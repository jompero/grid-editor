(this["webpackJsonpgrid-editor-client"]=this["webpackJsonpgrid-editor-client"]||[]).push([[0],{113:function(e,t,n){e.exports=n(143)},143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),l=n(6),o=n(53),u=n(12),s=n(198),m=n(105),d=n(199),p=n(200),h=n(26),f=n(33),g=n.n(f),v=n(28),E=n.n(v);function A(e){return{Authorization:"bearer ".concat(e)}}var b={name:"",token:"",profile:""},O="https://mysterious-meadow-32567.herokuapp.com";function j(e){return E.a.post("".concat(O,"/api/users/login"),null,{headers:A(e)}).then((function(e){return e.data,e.data}))}var w={name:"New Map",width:16,height:16,tileSet:"Harbour",tileMap:new Array(256).fill(-1),user:b};function C(e,t,n){var a=e.tileMap.map((function(e,a){return a===t?n:e}));return Object(h.a)({},e,{tileMap:a})}function y(e){return{type:"LOAD_MAP",data:{tileMap:e}}}function k(e){return{type:"UPDATE_MAP",data:{tileMap:e}}}var x=g()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MAP":var n;return(null===(n=t.data)||void 0===n?void 0:n.tileMap)||e;case"UPDATE_MAP":var a,r=null===(a=t.data)||void 0===a?void 0:a.tileMap;return!r||r.width===e.width&&r.height===e.height||(r=Object(h.a)({},r,{tileMap:new Array(r.width*r.height).fill(-1)})),r||e;case"SET_TILE":var i;return(null===(i=t.data)||void 0===i?void 0:i.target)?C(e,t.data.target.index,t.data.target.tile):e;default:return e}})),M=n(178),I=n(206);var S=function(e){var t=e.children,n=e.columns,r=e.rows,i=e.tileHeight,c=e.tileWidth,l=e.scale,o=Object(M.a)((function(){return Object(I.a)({gridContainer:{display:"inline-grid",gridTemplateColumns:"repeat(".concat(n,", ").concat(c*l,"px [col-start])"),gridTemplateRows:"repeat(".concat(r,", ").concat(i*l,"px [row-start])")},children:{transformOrigin:"top left",transform:"scale(".concat(l,")")}})}))();return a.createElement("div",{className:o.gridContainer},a.Children.map(t,(function(e){return a.createElement("div",{className:o.children},e)})))},N=n(90),T=n.n(N),B=n(91),W=n.n(B);function D(e,t){return Math.floor(e/t)}function H(e,t,n){return Math.floor(n/t)*e}function L(e,t,n){return n%t*e}function R(e,t,n,a,r,i){return Object(h.a)({image:t},function(e,t,n,a){return{posY:H(e,n,a),posX:L(t,n,a)}}(r,i,n,e),{width:i,height:r})}var F=function(e,t,n,a,r,i){return new Array(i).fill(0).map((function(n,i){return R(i,e,t,0,r,a)}))},P={name:"City",image:T.a,imageWidth:64,imageHeight:80,tileWidth:8,tileHeight:8,tiles:78,tilesPerRow:0,tilesPerColumn:0,mapping:[]};P.tilesPerRow=D(P.imageWidth,P.tileWidth),P.tilesPerColumn=D(P.imageHeight,P.tileHeight),P.mapping=F(P.image,P.tilesPerRow,P.imageHeight,P.tileWidth,P.tileHeight,P.tiles);var Q={name:"Cave",image:W.a,imageWidth:64,imageHeight:56,tileWidth:8,tileHeight:8,tiles:50,tilesPerRow:0,tilesPerColumn:0,mapping:[]};Q.tilesPerRow=D(Q.imageWidth,Q.tileWidth),Q.tilesPerColumn=D(Q.imageHeight,Q.tileHeight),Q.mapping=F(Q.image,Q.tilesPerRow,Q.imageHeight,Q.tileWidth,Q.tileHeight,Q.tiles);var Y={Harbour:P,Cave:Q};var G=function(e){var t=e.image,n=e.color,r=e.posX,i=e.posY,c=e.width,l=e.height,o=Object(M.a)((function(){return Object(I.a)({tile:{backgroundImage:"url(".concat(t,")"),backgroundColor:"".concat(n),backgroundPosition:"-".concat(r,"px -").concat(i,"px"),width:c,height:l,imageRendering:"pixelated"}})}))();return a.createElement("div",{"data-testid":"tile",className:o.tile})},Z=Object(M.a)((function(){return Object(I.a)({tile:{"&:hover":{cursor:"pointer"}}})}));var X=function(e){var t=e.index,n=e.onMouseClick,r=Object(l.c)((function(e){return e.tileSet})),i=Object(l.c)((function(e){return e.canvas.present.tileMap[t]})),c=Object(l.c)((function(e){return e.canvas.present.width})),o=Y[r],u=o.mapping,s=Z();return a.createElement("div",{key:t,onMouseDown:function(){return n()},className:s.tile},i>=0&&a.createElement(G,u[i]),-1===i&&a.createElement(G,{color:(t%c+Math.floor(t/c))%2===0?"GREY":"WHITE",width:o.tileWidth,height:o.tileHeight}))};var U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.canvas.present.tileMap})),n=Object(l.c)((function(e){return e.canvas.present})),r=n.width,i=n.height,c=Object(l.c)((function(e){return e.tools.brush})),o=Object(l.c)((function(e){return e.tileSet})),u=Y[o];return a.createElement(S,{columns:r,rows:i,tileHeight:u.tileHeight,tileWidth:u.tileWidth,scale:32/u.tileWidth},t.map((function(t,n){return a.createElement(X,{key:n,index:n,onMouseClick:function(){return function(t){e(function(e,t){return{type:"SET_TILE",data:{target:{index:e,tile:t}}}}(t,c))}(n)}})})))},z=n(204),K=n(182),V=n(145),q=n(181),J=n(92),_=n(93),$=n.n(_),ee={brush:0};function te(e,t){return Object(h.a)({},e,{brush:t})}function ne(e){return{type:"SET_BRUSH",data:{brush:e}}}var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BRUSH":return te(e,t.data.brush);default:return e}};var re=function(){var e=Object(l.b)();return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e(ne(-1))}},r.a.createElement(q.a,{"data-testid":"eraser-icon"},r.a.createElement(J.Icon,{icon:$.a}))))},ie=n(94),ce=n.n(ie);var le=function(){var e=Object(l.b)();return r.a.createElement("div",{onClick:function(){return e(f.ActionCreators.undo())}},r.a.createElement(q.a,{"data-testid":"undo-icon"},r.a.createElement(ce.a,null)))},oe=n(95),ue=n.n(oe);var se=function(){var e=Object(l.b)();return r.a.createElement(q.a,{onClick:function(){return e(f.ActionCreators.redo())}},r.a.createElement(ue.a,{"data-testid":"redo-icon"}))},me=n(96),de=n.n(me),pe="https://mysterious-meadow-32567.herokuapp.com";function he(){return E.a.get("".concat(pe,"/api/maps")).then((function(e){return e.data,e.data}))}function fe(e,t){return e.id&&e.user.id===t.id?E.a.put("".concat(pe,"/api/maps/").concat(e.id),e,{headers:A(t.token)}).then((function(e){return e.data})):E.a.post("".concat(pe,"/api/maps"),e,{headers:A(t.token)}).then((function(e){return e.data}))}function ge(e,t){return E.a.delete("".concat(pe,"/api/maps/").concat(e),{headers:A(t)}).then((function(e){return e.data}))}function ve(e,t){return E.a.post("".concat(pe,"/api/maps/").concat(e,"/like"),null,{headers:A(t)}).then((function(e){return e.data}))}function Ee(e,t){return E.a.post("".concat(pe,"/api/maps/").concat(e,"/unlike"),null,{headers:A(t)}).then((function(e){return e.data}))}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:"NOTIFY",data:{message:e,severity:t}}}var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":return t.data;case"RESET_NOTIFICATION":return{};default:return e}};var Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAPS":var n;return(null===(n=t.data)||void 0===n?void 0:n.maps)?t.data.maps:e;case"DELETE_MAP":var a,r,i=null===(a=t.data)||void 0===a||null===(r=a.map)||void 0===r?void 0:r.id;return i?e.filter((function(e){return e.id!==i})):e;case"SAVE_MAP":var c,l=null===(c=t.data)||void 0===c?void 0:c.map;if(l){var o=e.reduce((function(e,t,n){return t.id===l.id?n:e}),-1);return o>=0?e.map((function(e,t){return t===o?l:e})):e.concat(l)}return e;case"LIKE_MAP":var u,s=null===(u=t.data)||void 0===u?void 0:u.map;return s?e.map((function(e){return e.id!==s.id?e:s})):e;default:return e}};var je=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.canvas})),n=Object(l.c)((function(e){return e.user})),a=Object(h.a)({},t.present);return r.a.createElement(q.a,{id:"save-button",onClick:function(){fe(a,n).then((function(t){e(k(t)),e(function(e){return{type:"SAVE_MAP",data:{map:e}}}(t)),e(Ae("Map saved succesfully","success"))})).catch((function(t){e(Ae("Error occured while saving map","error"))}))},disabled:!n.token},r.a.createElement(de.a,null))},we=n(97),Ce=n.n(we);var ye=function(){var e=Object(u.f)();return r.a.createElement(q.a,{onClick:function(){return e.push("/maps")}},r.a.createElement(Ce.a,null))},ke=n(31),xe=n(202),Me=Object(M.a)((function(e){return Object(I.a)({window:{background:e.palette.background.default,position:"absolute",zIndex:0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",transformOrigin:"center"},brush:{boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.75)"},tile:{position:"absolute",transition:" all 0.1s ease-in-out",zIndex:0,transformOrigin:"50% 50%","&:hover":{zIndex:1,cursor:"pointer",transform:"scale(1.2)"}}})}));var Ie=function(){var e=Me(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.tileSet})),r=Y[n],i=r.mapping,c=Object(l.c)((function(e){return e.tools.brush})),o=a.useState(!1),u=Object(ke.a)(o,2),s=u[0],m=u[1];return a.createElement("div",null,a.createElement("div",{onClick:function(){return m(!0)}},a.createElement(q.a,{className:e.brush},a.createElement(S,{columns:1,rows:1,tileHeight:r.tileHeight,tileWidth:r.tileWidth,scale:24/r.tileWidth},c>=0&&a.createElement(G,i[c])))),a.createElement("div",{onClick:function(){return m(!1)}},a.createElement(xe.a,{open:s,onClose:function(){return m(!1)}},a.createElement("div",{className:e.window},a.createElement(S,{columns:r.tilesPerRow,rows:r.tilesPerColumn,tileHeight:r.tileHeight,tileWidth:r.tileWidth,scale:32/r.tileWidth},Array(r.tiles).fill(0).map((function(n,c){return a.createElement("div",{className:e.tile,style:{width:r.tileWidth},key:c,onClick:function(){return t(ne(c))}},a.createElement(G,i[c]))})))))))},Se=[r.a.createElement(ye,{key:"load"}),r.a.createElement(je,{key:"save"}),r.a.createElement(le,{key:"undo"}),r.a.createElement(se,{key:"redo"}),r.a.createElement(re,{key:"eraser"}),r.a.createElement(Ie,{key:"palette"})];var Ne=function(){return r.a.createElement(K.a,{"data-testid":"tools"},Se.map((function(e,t){return r.a.createElement(V.a,{key:t},e)})))},Te=Object(M.a)((function(e){return Object(I.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{flexShrink:0},title:{flexGrow:1},tool:{marginRight:"1em"},content:{margin:"auto"},toolbarMargin:e.mixins.toolbar})}));var Be=function(e){var t=e.children,n=(Object(l.c)((function(e){return e.tools.brush})),Te());return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.content},r.a.createElement(z.a,{variant:"permanent"},r.a.createElement("div",{className:n.toolbarMargin}),r.a.createElement(Ne,null)),r.a.createElement("div",{className:n.content},t)))},We=n(183),De=n(184),He=n(185),Le=n(186),Re=n(187),Fe=n(188),Pe=n(189),Qe=n(98),Ye=n.n(Qe),Ge=n(99),Ze=n.n(Ge),Xe=Object(M.a)((function(){return Object(I.a)({container:{display:"flex",flexDirection:"row",alignItems:"center"}})}));var Ue=function(e){var t,n,a=e.map,i=Xe(),c=Object(l.b)(),o=Object(l.c)((function(e){return e.user}));if(o===b)return null;var u=o.id&&(null===(t=a.likes)||void 0===t?void 0:t.includes(o.id)),s=u?r.a.createElement(Ye.a,null):r.a.createElement(Ze.a,null);function m(){var e,t;a.id&&c(u?function(e,t){return function(n){Ee(e,t).then((function(e){n({type:"LIKE_MAP",data:{map:e}})})).catch((function(e){n(Ae("Something went wrong while unliking the map.","error"))}))}}(a.id,o.token):(e=a.id,t=o.token,function(n){ve(e,t).then((function(e){n({type:"LIKE_MAP",data:{map:e}})})).catch((function(e){n(Ae("Something went wrong while liking the map.","error"))}))}))}return r.a.createElement("div",{className:i.container},r.a.createElement(q.a,{"data-testid":"like-icon",onClick:function(){return m()}},s),r.a.createElement(We.a,null,(null===(n=a.likes)||void 0===n?void 0:n.length)||0))},ze=Object(M.a)((function(){return Object(I.a)({map:{margin:"1em",minWidth:"11em",maxWidth:"12em"},mapThumbnail:{display:"flex",height:"10em",overflow:"hidden",alignItems:"center",justifyContent:"center",margin:"0.5em"}})}));var Ke=function(e){var t,n=e.map,a=Object(l.c)((function(e){return e.user})),i=Object(u.f)(),c=Y[n.tileSet],o=c.mapping,s=Object(l.b)(),m=ze();return r.a.createElement(De.a,{className:m.map,key:n.name},r.a.createElement(He.a,{onClick:function(){return s(y(n)),s(f.ActionCreators.clearHistory()),void i.push("/")}},r.a.createElement(Le.a,null,r.a.createElement("div",{className:m.mapThumbnail},r.a.createElement(S,{rows:n.height,columns:n.width,tileHeight:c.tileHeight,tileWidth:c.tileWidth,scale:8/c.tileWidth},n.tileMap.map((function(e,t){return r.a.createElement("div",{key:t},e>=0&&r.a.createElement(G,o[e]))}))))),r.a.createElement(Re.a,null,r.a.createElement(We.a,{variant:"h6"},n.name),r.a.createElement(We.a,{variant:"caption"},n.user&&n.user.name))),r.a.createElement(Fe.a,null,r.a.createElement(Ue,{map:n}),a.profile===(null===(t=n.user)||void 0===t?void 0:t.profile)&&r.a.createElement(Pe.a,{onClick:function(){return s(function(e){return{type:"DELETE_MAP",data:{map:e}}}(e=n)),void(e.id&&ge(e.id,a.token).catch((function(e){s(Ae("Something went wrong while removing the map.","error"))})));var e}},"Delete")))},Ve=n(190),qe=n(207),Je=n(209),_e=n(201),$e=n(194),et={text:"",users:[]};function tt(e){return{type:"SET_FILTER",data:e}}var nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.data;default:return e}},at=Object(M.a)((function(e){return Object(I.a)({form:{background:e.palette.background.default,display:"flex",padding:"2em",alignItems:"stretch"},searchField:{flex:"auto",margin:"1em"},userFilter:{flex:"auto",margin:"1em"}})}));var rt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.maps})),n=Object(l.c)((function(e){return e.mapsFilter})),r=at(),i=t.reduce((function(e,t){return e.some((function(e){return e.id===t.user.id}))?e:e.concat(t.user)}),[]);return a.createElement("div",{className:r.form},a.createElement(Ve.a,{fullWidth:!0,className:r.searchField,variant:"outlined"},a.createElement(qe.a,{label:"Search",type:"text",size:"medium",variant:"outlined",value:n.text,onChange:function(t){return a=t.target.value,void e(tt({text:a,users:n.users}));var a}})),a.createElement(Ve.a,{fullWidth:!0,className:r.userFilter,variant:"outlined"},a.createElement(Je.a,{id:"select-tileset-label"},"Filter by user"),a.createElement(_e.a,{labelId:"select-tileset-label",label:"Filter by user",autoWidth:!0,multiple:!0,value:n.users,onChange:function(t){return a=t.target.value,void e(tt({text:n.text,users:a}));var a}},i.map((function(e){return a.createElement($e.a,{key:e.id,value:e.id},e.name)})))))},it=Object(M.a)((function(){return Object(I.a)({container:{display:"flex",flex:"auto",alignItems:"stretch",flexDirection:"column",padding:"2em"},filter:{flex:"auto"},map:{margin:"1em"},mapList:{display:"flex"}})}));var ct=function(){var e=Object(l.b)();Object(a.useEffect)((function(){e((function(e){he().then((function(t){e({type:"SET_MAPS",data:{maps:t}})})).catch((function(t){e(Ae("Something went wrong while loading maps.","error"))}))}))}),[e]);var t=Object(l.c)((function(e){return e.maps})),n=Object(l.c)((function(e){return e.mapsFilter})),r=it();return a.createElement("div",{className:r.container},a.createElement("div",null,a.createElement(rt,null)),a.createElement("div",{className:r.mapList},function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(n.text.toLowerCase())&&(0===n.users.length||e.user.id&&n.users.includes(e.user.id))}));return 0===e.length?a.createElement(We.a,null,"No maps were found."):e.map((function(e){return a.createElement(Ke,{key:e.id,map:e})}))}()))},lt=n(195),ot=n(196),ut=n(197),st=n(102),mt=n.n(st),dt=n(101),pt=n.n(dt),ht=Object(M.a)((function(e){return Object(I.a)({form:{background:e.palette.background.default,display:"grid",gridGap:"2em",padding:"2em"}})}));var ft=function(e){var t=e.handleSubmit,n=Object(l.c)((function(e){return e.canvas.present})),i=Object(l.c)((function(e){return e.tileSet})),c=Object(l.c)((function(e){return e.user})),o=Object(l.b)(),u=ht(),s=Object(a.useState)(n.name),m=Object(ke.a)(s,2),d=m[0],p=m[1],f=Object(a.useState)(n.width),g=Object(ke.a)(f,2),v=g[0],E=g[1],A=Object(a.useState)(n.height),b=Object(ke.a)(A,2),O=b[0],j=b[1],w=Object(a.useState)(i),C=Object(ke.a)(w,2),x=C[0],M=C[1];return r.a.createElement("div",{className:u.form},r.a.createElement(qe.a,{label:"Name",variant:"outlined",defaultValue:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement(qe.a,{label:"Width",type:"number",variant:"outlined",defaultValue:v,onChange:function(e){return E(Number.parseInt(e.target.value,10))}}),r.a.createElement(qe.a,{label:"Height",type:"number",variant:"outlined",defaultValue:O,onChange:function(e){return j(Number.parseInt(e.target.value,10))}}),r.a.createElement(Ve.a,{variant:"outlined"},r.a.createElement(Je.a,{id:"select-tileset-label"},"Tile Set"),r.a.createElement(_e.a,{labelId:"select-tileset-label",label:"Tileset",value:x,variant:"outlined",onChange:function(e){return function(e){e.target.value,M(e.target.value)}(e)}},Object.keys(Y).map((function(e){return r.a.createElement($e.a,{key:e,value:e},e)})))),r.a.createElement(Pe.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){return function(e){e.preventDefault(),o(k(Object(h.a)({},n,{name:d,width:v,height:O,tileSet:x}))),t&&t()}(e)}},"Apply Changes"),r.a.createElement(Pe.a,{type:"submit",variant:"outlined",onClick:function(e){return function(e){e.preventDefault();var n={tileSet:x,name:"New Map",width:v,height:O,tileMap:new Array(v*O).fill(-1),user:c};o(y(n)),p("New Map"),t&&t()}(e)}},"Create New"))},gt=Object(M.a)((function(){return Object(I.a)({window:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transformOrigin:"center"}})}));var vt=function(){var e=Object(a.useState)(!1),t=Object(ke.a)(e,2),n=t[0],i=t[1],c=gt();return r.a.createElement("div",null,r.a.createElement(q.a,{onClick:function(){return i(!0)}},r.a.createElement(pt.a,null)),r.a.createElement(xe.a,{open:n,onClose:function(){return i(!1)}},r.a.createElement("div",{className:c.window},r.a.createElement(ft,{handleSubmit:function(){return i(!1)}}))))},Et=n(62),At=n.n(Et);var bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data||e;case"LOGOUT":return b;default:return e}};var Ot=function(){var e=Object(l.b)(),t=function(t){var n;t.error||e((n={name:t.profileObj.name,token:t.accessToken,profile:t.googleId},function(e){j(n.token).then((function(t){return e({type:"LOGIN",data:Object.assign(t,n)})})).catch((function(t){e(Ae("Error while logging in.","error"))}))}))};return r.a.createElement(At.a,{clientId:"566902547666-7bdampp3nip1c2pmp3bh7jp1bocpfg38.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin",isSignedIn:!0})};var jt=function(){var e=Object(l.b)();return r.a.createElement(Et.GoogleLogout,{clientId:"566902547666-7bdampp3nip1c2pmp3bh7jp1bocpfg38.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){e({type:"LOGOUT"})}})},wt=Object(M.a)((function(e){return Object(I.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1,"&:hover":{cursor:"pointer"}},content:{margin:"auto",marginTop:"1em"},toolbarMargin:e.mixins.toolbar})}));var Ct=function(e){var t=e.children,n=Object(l.c)((function(e){return e.canvas.present.name})),a=Object(l.c)((function(e){return e.user})),i=Object(u.f)(),c=wt();return r.a.createElement("div",{className:c.root},r.a.createElement(ot.a,{color:"default",position:"absolute",className:c.appBar},r.a.createElement(ut.a,null,r.a.createElement(lt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(lt.a,{item:!0,xs:3},r.a.createElement(We.a,{variant:"h6",className:c.title,onClick:function(){return i.push("/")}},"Grid Editor")),r.a.createElement(lt.a,{item:!0},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/login"}),r.a.createElement(u.a,{exact:!0,path:"/maps"},r.a.createElement(q.a,{onClick:function(){return i.push("/")}},r.a.createElement(mt.a,null))),r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(lt.a,{container:!0,alignItems:"center"},r.a.createElement(lt.a,{item:!0},r.a.createElement(vt,null)),r.a.createElement(lt.a,{item:!0},r.a.createElement(We.a,{variant:"h6",display:"inline",align:"justify"},n)))))),r.a.createElement(lt.a,{item:!0,xs:3,style:{textAlign:"right"}},!a.token&&r.a.createElement(Ot,null),a.token&&r.a.createElement(jt,null))))),r.a.createElement("div",{className:c.content},r.a.createElement("div",{className:c.toolbarMargin}),t))},yt=n(205),kt=n(203);var xt=function(){var e=Object(l.c)((function(e){return e.notification})),t=Object(l.b)();return e.message?r.a.createElement(yt.a,{open:!0,onClose:function(){t({type:"RESET_NOTIFICATION"})},autoHideDuration:6e3,message:e.message,anchorOrigin:{vertical:"bottom",horizontal:"left"}},e.severity&&r.a.createElement(kt.a,{severity:e.severity},e.message)):null};var Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_THEME":return t.data;default:return e}};var It=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.theme})),n=Object(s.a)("(prefers-color-scheme: dark)")?"dark":"light";t!==n&&e(function(e){return{type:"CHANGE_THEME",data:e}}(n));var r=Object(m.a)({palette:{type:t}});return a.createElement(d.a,{theme:r},a.createElement(p.a,null),a.createElement(o.a,null,a.createElement(Ct,null,a.createElement(u.c,null,a.createElement(u.a,{exact:!0,path:"/login"},a.createElement(Ot,null)),a.createElement(u.a,{exact:!0,path:"/"},a.createElement(Be,null,a.createElement(U,null))),a.createElement(u.a,{path:"/maps"},a.createElement(ct,null)))),a.createElement(xt,null)))},St=n(41),Nt=n(103),Tt=n(104);var Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Harbour",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_TILESET":return n.data.tileSet||t;case"LOAD_MAP":case"UPDATE_MAP":return n.data,(null===(e=n.data)||void 0===e?void 0:e.tileMap)?n.data.tileMap.tileSet:t;default:return t}},Wt=Object(St.combineReducers)({user:bt,tileSet:Bt,canvas:x,tools:ae,maps:Oe,mapsFilter:nt,notification:be,theme:Mt}),Dt=Object(St.createStore)(Wt,Object(Nt.composeWithDevTools)(Object(St.applyMiddleware)(Tt.a)));Dt.getState();var Ht=Dt;c.a.render(a.createElement(l.a,{store:Ht},a.createElement(It,null)),document.getElementById("root"))},90:function(e,t){e.exports="data:image/png;base64,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"},91:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACd0lEQVR42u1a2Y6EMAzj/3969mlH2lHbOLaTdmGQkPagEFzHubiu63qtzuojen7DGV/0aAC+DGg8VQDJtZxhyLWRYaO1nQDaGaBS+3edyoAyEVw9hKXlvwOgYudnALAMTK3LIov6N2PM6BkzlmTvmQZg9JKM8DgY8AnGChzErawa0AEAygRqnSoupzMgdImsC5ysARQAqrrelgFuDRjdIxIshwbYXcDBgCgVbmVANr1lqR3tble1OWRAZX6PZpJq9ogWbVMAUDSrGMBmdeUAOKtEZxXY5gJuABQGOER4CcCudtVWAHa0sZwgbwfghC6S7AKndG27Gi/Hd4XVxmwaAGb3KxiC9BvRtngZAFFRFP2uJFJIvUJsoJZ2Ii+fASAzL0ASKICtXKyuEkm0aMowJLCdz8GVmsANALppg79zWdpJDBD/70mD3cORtnNEi2yJnDE+cqeZ324DwMmAKM5vB2AWPtA4jLStkXKZHYFRXWgnAO4BKRuSU3a4XEDRgKjjO/tZmSq/r3WJoKIBaMsbcSOk8/RxrS8MshrAAIACEoKFagD7UgyDlMlTGhAXAEh4y9w/01KL6B8USJoLqBMfdvDB6MEQACcDZrlBR/c4sntqm1MDGIo7gBDZ63GBzBjcXU2imze0pyIKuAFAtQIVvj/XdoXBrn4CCox1MuQaWihfqkrVYHbXs3lAppqs6D4Fa+tbWFEcR+K6UnAtAYw0APEpJg/Ifv7mdNWyz+UFIyTKix1qPIFRR+CZ9Lcyo6Q1gH35lctsH7WHiULjJNjVjk92rePBwd2PKIQ9A4BFnL4/AI93gShMPAKARVr6LAaMvqP7AnDj4weKUYv+/6aLvgAAAABJRU5ErkJggg=="}},[[113,1,2]]]);
//# sourceMappingURL=main.831811ad.chunk.js.map