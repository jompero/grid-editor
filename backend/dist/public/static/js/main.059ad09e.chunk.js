(this["webpackJsonpgrid-editor-client"]=this["webpackJsonpgrid-editor-client"]||[]).push([[0],{114:function(e,t,n){e.exports=n(144)},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),l=n(6),o=n(53),u=n(12),m=n(199),s=n(106),d=n(200),A=n(201),g=n(26),p=n(33),h=n.n(p),f=n(28),v=n.n(f);function E(e){return{Authorization:"bearer ".concat(e)}}var b={name:"",token:"",profile:""},w="https://mysterious-meadow-32567.herokuapp.com";function O(e){return v.a.post("".concat(w,"/api/users/login"),null,{headers:E(e)}).then((function(e){return e.data,e.data}))}var C={name:"New Map",width:16,height:16,tileSet:"Harbour",tileMap:new Array(256).fill(-1),user:b};function j(e,t,n){var a=e.tileMap.map((function(e,a){return a===t?n:e}));return Object(g.a)({},e,{tileMap:a})}function M(e){return{type:"LOAD_MAP",data:{tileMap:e}}}function x(e){return{type:"UPDATE_MAP",data:{tileMap:e}}}var y=h()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MAP":var n;return(null===(n=t.data)||void 0===n?void 0:n.tileMap)||e;case"UPDATE_MAP":var a,r=null===(a=t.data)||void 0===a?void 0:a.tileMap;return!r||r.width===e.width&&r.height===e.height||(r=Object(g.a)({},r,{tileMap:new Array(r.width*r.height).fill(-1)})),r||e;case"SET_TILE":var i;return(null===(i=t.data)||void 0===i?void 0:i.target)?j(e,t.data.target.index,t.data.target.tile):e;default:return e}})),W=n(179),k=n(207);var B=function(e){var t=e.children,n=e.columns,r=e.rows,i=e.tileHeight,c=e.tileWidth,l=e.scale,o=Object(W.a)((function(){return Object(k.a)({gridContainer:{display:"inline-grid",gridTemplateColumns:"repeat(".concat(n,", ").concat(c*l,"px [col-start])"),gridTemplateRows:"repeat(".concat(r,", ").concat(i*l,"px [row-start])")},children:{transformOrigin:"top left",transform:"scale(".concat(l,")")}})}))();return a.createElement("div",{className:o.gridContainer},a.Children.map(t,(function(e){return a.createElement("div",{className:o.children},e)})))},D=n(90),I=n.n(D),N=n(91),S=n.n(N),T=n(92),H=n.n(T);function P(e,t){return Math.floor(e/t)}function R(e,t,n){return Math.floor(n/t)*e}function L(e,t,n){return n%t*e}function F(e,t,n,a,r,i){return Object(g.a)({image:t},function(e,t,n,a){return{posY:R(e,n,a),posX:L(t,n,a)}}(r,i,n,e),{width:i,height:r})}var G=function(e,t,n,a,r,i){return new Array(i).fill(0).map((function(n,i){return F(i,e,t,0,r,a)}))},Q={name:"City",image:I.a,imageWidth:64,imageHeight:80,tileWidth:8,tileHeight:8,tiles:78,tilesPerRow:0,tilesPerColumn:0,mapping:[]};Q.tilesPerRow=P(Q.imageWidth,Q.tileWidth),Q.tilesPerColumn=P(Q.imageHeight,Q.tileHeight),Q.mapping=G(Q.image,Q.tilesPerRow,Q.imageHeight,Q.tileWidth,Q.tileHeight,Q.tiles);var Y={name:"Cave",image:S.a,imageWidth:64,imageHeight:56,tileWidth:8,tileHeight:8,tiles:50,tilesPerRow:0,tilesPerColumn:0,mapping:[]};Y.tilesPerRow=P(Y.imageWidth,Y.tileWidth),Y.tilesPerColumn=P(Y.imageHeight,Y.tileHeight),Y.mapping=G(Y.image,Y.tilesPerRow,Y.imageHeight,Y.tileWidth,Y.tileHeight,Y.tiles);var z={name:"Amarelo",image:H.a,imageWidth:64,imageHeight:88,tileWidth:8,tileHeight:8,tiles:81,tilesPerRow:0,tilesPerColumn:0,mapping:[]};z.tilesPerRow=P(z.imageWidth,z.tileWidth),z.tilesPerColumn=P(z.imageHeight,z.tileHeight),z.mapping=G(z.image,z.tilesPerRow,z.imageHeight,z.tileWidth,z.tileHeight,z.tiles);var Z={Harbour:Q,Cave:Y,Amarelo:z};var X=function(e){var t=e.image,n=e.color,r=e.posX,i=e.posY,c=e.width,l=e.height,o=Object(W.a)((function(){return Object(k.a)({tile:{backgroundImage:"url(".concat(t,")"),backgroundColor:"".concat(n),backgroundPosition:"-".concat(r,"px -").concat(i,"px"),width:c,height:l,imageRendering:"pixelated"}})}))();return a.createElement("div",{"data-testid":"tile",className:o.tile})},U=Object(W.a)((function(){return Object(k.a)({tile:{"&:hover":{cursor:"pointer"}}})}));var V=function(e){var t=e.index,n=e.onMouseClick,r=Object(l.c)((function(e){return e.tileSet})),i=Object(l.c)((function(e){return e.canvas.present.tileMap[t]})),c=Object(l.c)((function(e){return e.canvas.present.width})),o=Z[r],u=o.mapping,m=U();return a.createElement("div",{key:t,onMouseDown:function(){return n()},className:m.tile},i>=0&&a.createElement(X,u[i]),-1===i&&a.createElement(X,{color:(t%c+Math.floor(t/c))%2===0?"GREY":"WHITE",width:o.tileWidth,height:o.tileHeight}))};var q=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.canvas.present.tileMap})),n=Object(l.c)((function(e){return e.canvas.present})),r=n.width,i=n.height,c=Object(l.c)((function(e){return e.tools.brush})),o=Object(l.c)((function(e){return e.tileSet})),u=Z[o];return a.createElement(B,{columns:r,rows:i,tileHeight:u.tileHeight,tileWidth:u.tileWidth,scale:32/u.tileWidth},t.map((function(t,n){return a.createElement(V,{key:n,index:n,onMouseClick:function(){return function(t){e(function(e,t){return{type:"SET_TILE",data:{target:{index:e,tile:t}}}}(t,c))}(n)}})})))},K=n(205),J=n(183),_=n(146),$=n(182),ee=n(93),te=n(94),ne=n.n(te),ae={brush:0};function re(e,t){return Object(g.a)({},e,{brush:t})}function ie(e){return{type:"SET_BRUSH",data:{brush:e}}}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BRUSH":return re(e,t.data.brush);default:return e}};var le=function(){var e=Object(l.b)();return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e(ie(-1))}},r.a.createElement($.a,{"data-testid":"eraser-icon"},r.a.createElement(ee.Icon,{icon:ne.a}))))},oe=n(95),ue=n.n(oe);var me=function(){var e=Object(l.b)();return r.a.createElement("div",{onClick:function(){return e(p.ActionCreators.undo())}},r.a.createElement($.a,{"data-testid":"undo-icon"},r.a.createElement(ue.a,null)))},se=n(96),de=n.n(se);var Ae=function(){var e=Object(l.b)();return r.a.createElement($.a,{onClick:function(){return e(p.ActionCreators.redo())}},r.a.createElement(de.a,{"data-testid":"redo-icon"}))},ge=n(97),pe=n.n(ge),he="https://mysterious-meadow-32567.herokuapp.com";function fe(){return v.a.get("".concat(he,"/api/maps")).then((function(e){return e.data,e.data}))}function ve(e,t){return e.id&&e.user.id===t.id?v.a.put("".concat(he,"/api/maps/").concat(e.id),e,{headers:E(t.token)}).then((function(e){return e.data})):v.a.post("".concat(he,"/api/maps"),e,{headers:E(t.token)}).then((function(e){return e.data}))}function Ee(e,t){return v.a.delete("".concat(he,"/api/maps/").concat(e),{headers:E(t)}).then((function(e){return e.data}))}function be(e,t){return v.a.post("".concat(he,"/api/maps/").concat(e,"/like"),null,{headers:E(t)}).then((function(e){return e.data}))}function we(e,t){return v.a.post("".concat(he,"/api/maps/").concat(e,"/unlike"),null,{headers:E(t)}).then((function(e){return e.data}))}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:"NOTIFY",data:{message:e,severity:t}}}var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":return t.data;case"RESET_NOTIFICATION":return{};default:return e}};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAPS":var n;return(null===(n=t.data)||void 0===n?void 0:n.maps)?t.data.maps:e;case"DELETE_MAP":var a,r,i=null===(a=t.data)||void 0===a||null===(r=a.map)||void 0===r?void 0:r.id;return i?e.filter((function(e){return e.id!==i})):e;case"SAVE_MAP":var c,l=null===(c=t.data)||void 0===c?void 0:c.map;if(l){var o=e.reduce((function(e,t,n){return t.id===l.id?n:e}),-1);return o>=0?e.map((function(e,t){return t===o?l:e})):e.concat(l)}return e;case"LIKE_MAP":var u,m=null===(u=t.data)||void 0===u?void 0:u.map;return m?e.map((function(e){return e.id!==m.id?e:m})):e;default:return e}};var Me=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.canvas})),n=Object(l.c)((function(e){return e.user})),a=Object(g.a)({},t.present);return r.a.createElement($.a,{id:"save-button",onClick:function(){ve(a,n).then((function(t){e(x(t)),e(function(e){return{type:"SAVE_MAP",data:{map:e}}}(t)),e(Oe("Map saved succesfully","success"))})).catch((function(t){e(Oe("Error occured while saving map","error"))}))},disabled:!n.token},r.a.createElement(pe.a,null))},xe=n(98),ye=n.n(xe);var We=function(){var e=Object(u.f)();return r.a.createElement($.a,{onClick:function(){return e.push("/maps")}},r.a.createElement(ye.a,null))},ke=n(31),Be=n(203),De=Object(W.a)((function(e){return Object(k.a)({window:{background:e.palette.background.default,position:"absolute",zIndex:0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",transformOrigin:"center"},brush:{boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.75)"},tile:{position:"absolute",transition:" all 0.1s ease-in-out",zIndex:0,transformOrigin:"50% 50%","&:hover":{zIndex:1,cursor:"pointer",transform:"scale(1.2)"}}})}));var Ie=function(){var e=De(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.tileSet})),r=Z[n],i=r.mapping,c=Object(l.c)((function(e){return e.tools.brush})),o=a.useState(!1),u=Object(ke.a)(o,2),m=u[0],s=u[1];return a.createElement("div",null,a.createElement("div",{onClick:function(){return s(!0)}},a.createElement($.a,{className:e.brush},a.createElement(B,{columns:1,rows:1,tileHeight:r.tileHeight,tileWidth:r.tileWidth,scale:24/r.tileWidth},c>=0&&a.createElement(X,i[c])))),a.createElement("div",{onClick:function(){return s(!1)}},a.createElement(Be.a,{open:m,onClose:function(){return s(!1)}},a.createElement("div",{className:e.window},a.createElement(B,{columns:r.tilesPerRow,rows:r.tilesPerColumn,tileHeight:r.tileHeight,tileWidth:r.tileWidth,scale:32/r.tileWidth},Array(r.tiles).fill(0).map((function(n,c){return a.createElement("div",{className:e.tile,style:{width:r.tileWidth},key:c,onClick:function(){return t(ie(c))}},a.createElement(X,i[c]))})))))))},Ne=[r.a.createElement(We,{key:"load"}),r.a.createElement(Me,{key:"save"}),r.a.createElement(me,{key:"undo"}),r.a.createElement(Ae,{key:"redo"}),r.a.createElement(le,{key:"eraser"}),r.a.createElement(Ie,{key:"palette"})];var Se=function(){return r.a.createElement(J.a,{"data-testid":"tools"},Ne.map((function(e,t){return r.a.createElement(_.a,{key:t},e)})))},Te=Object(W.a)((function(e){return Object(k.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{flexShrink:0},title:{flexGrow:1},tool:{marginRight:"1em"},content:{margin:"auto"},toolbarMargin:e.mixins.toolbar})}));var He=function(e){var t=e.children,n=(Object(l.c)((function(e){return e.tools.brush})),Te());return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.content},r.a.createElement(K.a,{variant:"permanent"},r.a.createElement("div",{className:n.toolbarMargin}),r.a.createElement(Se,null)),r.a.createElement("div",{className:n.content},t)))},Pe=n(184),Re=n(185),Le=n(186),Fe=n(187),Ge=n(188),Qe=n(189),Ye=n(190),ze=n(99),Ze=n.n(ze),Xe=n(100),Ue=n.n(Xe),Ve=Object(W.a)((function(){return Object(k.a)({container:{display:"flex",flexDirection:"row",alignItems:"center"}})}));var qe=function(e){var t,n,a=e.map,i=Ve(),c=Object(l.b)(),o=Object(l.c)((function(e){return e.user}));if(o===b)return null;var u=o.id&&(null===(t=a.likes)||void 0===t?void 0:t.includes(o.id)),m=u?r.a.createElement(Ze.a,null):r.a.createElement(Ue.a,null);function s(){var e,t;a.id&&c(u?function(e,t){return function(n){we(e,t).then((function(e){n({type:"LIKE_MAP",data:{map:e}})})).catch((function(e){n(Oe("Something went wrong while unliking the map.","error"))}))}}(a.id,o.token):(e=a.id,t=o.token,function(n){be(e,t).then((function(e){n({type:"LIKE_MAP",data:{map:e}})})).catch((function(e){n(Oe("Something went wrong while liking the map.","error"))}))}))}return r.a.createElement("div",{className:i.container},r.a.createElement($.a,{"data-testid":"like-icon",onClick:function(){return s()}},m),r.a.createElement(Pe.a,null,(null===(n=a.likes)||void 0===n?void 0:n.length)||0))},Ke=Object(W.a)((function(){return Object(k.a)({map:{margin:"1em",minWidth:"11em",maxWidth:"12em"},mapThumbnail:{display:"flex",height:"10em",overflow:"hidden",alignItems:"center",justifyContent:"center",margin:"0.5em"}})}));var Je=function(e){var t,n=e.map,a=Object(l.c)((function(e){return e.user})),i=Object(u.f)(),c=Z[n.tileSet],o=c.mapping,m=Object(l.b)(),s=Ke();return r.a.createElement(Re.a,{className:s.map,key:n.name},r.a.createElement(Le.a,{onClick:function(){return m(M(n)),m(p.ActionCreators.clearHistory()),void i.push("/")}},r.a.createElement(Fe.a,null,r.a.createElement("div",{className:s.mapThumbnail},r.a.createElement(B,{rows:n.height,columns:n.width,tileHeight:c.tileHeight,tileWidth:c.tileWidth,scale:8/c.tileWidth},n.tileMap.map((function(e,t){return r.a.createElement("div",{key:t},e>=0&&r.a.createElement(X,o[e]))}))))),r.a.createElement(Ge.a,null,r.a.createElement(Pe.a,{variant:"h6"},n.name),r.a.createElement(Pe.a,{variant:"caption"},n.user&&n.user.name))),r.a.createElement(Qe.a,null,r.a.createElement(qe,{map:n}),a.profile===(null===(t=n.user)||void 0===t?void 0:t.profile)&&r.a.createElement(Ye.a,{onClick:function(){return m(function(e){return{type:"DELETE_MAP",data:{map:e}}}(e=n)),void(e.id&&Ee(e.id,a.token).catch((function(e){m(Oe("Something went wrong while removing the map.","error"))})));var e}},"Delete")))},_e=n(191),$e=n(208),et=n(210),tt=n(202),nt=n(195),at={text:"",users:[]};function rt(e){return{type:"SET_FILTER",data:e}}var it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.data;default:return e}},ct=Object(W.a)((function(e){return Object(k.a)({form:{background:e.palette.background.default,display:"flex",padding:"2em",alignItems:"stretch"},searchField:{flex:"auto",margin:"1em"},userFilter:{flex:"auto",margin:"1em"}})}));var lt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.maps})),n=Object(l.c)((function(e){return e.mapsFilter})),r=ct(),i=t.reduce((function(e,t){return e.some((function(e){return e.id===t.user.id}))?e:e.concat(t.user)}),[]);return a.createElement("div",{className:r.form},a.createElement(_e.a,{fullWidth:!0,className:r.searchField,variant:"outlined"},a.createElement($e.a,{label:"Map search",type:"text",size:"medium",variant:"outlined",value:n.text,onChange:function(t){return a=t.target.value,void e(rt({text:a,users:n.users}));var a}})),a.createElement(_e.a,{fullWidth:!0,className:r.userFilter,variant:"outlined"},a.createElement(et.a,{id:"select-tileset-label"},"Filter by user"),a.createElement(tt.a,{labelId:"select-tileset-label",label:"Filter by user",autoWidth:!0,multiple:!0,value:n.users,onChange:function(t){return a=t.target.value,void e(rt({text:n.text,users:a}));var a}},i.map((function(e){return a.createElement(nt.a,{key:e.id,value:e.id},e.name)})))))},ot=Object(W.a)((function(){return Object(k.a)({container:{display:"flex",flex:"auto",alignItems:"stretch",flexDirection:"column",padding:"2em"},filter:{flex:"auto"},map:{margin:"1em"},mapList:{display:"flex"}})}));var ut=function(){var e=Object(l.b)();Object(a.useEffect)((function(){e((function(e){fe().then((function(t){e({type:"SET_MAPS",data:{maps:t}})})).catch((function(t){e(Oe("Something went wrong while loading maps.","error"))}))}))}),[e]);var t=Object(l.c)((function(e){return e.maps})),n=Object(l.c)((function(e){return e.mapsFilter})),r=ot();return a.createElement("div",{className:r.container},a.createElement("div",null,a.createElement(lt,null)),a.createElement("div",{className:r.mapList},function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(n.text.toLowerCase())&&(0===n.users.length||e.user.id&&n.users.includes(e.user.id))}));return 0===e.length?a.createElement(Pe.a,null,"No maps were found."):e.map((function(e){return a.createElement(Je,{key:e.id,map:e})}))}()))},mt=n(196),st=n(197),dt=n(198),At=n(103),gt=n.n(At),pt=n(102),ht=n.n(pt),ft=Object(W.a)((function(e){return Object(k.a)({form:{background:e.palette.background.default,display:"grid",gridGap:"2em",padding:"2em"}})}));var vt=function(e){var t=e.handleSubmit,n=Object(l.c)((function(e){return e.canvas.present})),i=Object(l.c)((function(e){return e.tileSet})),c=Object(l.c)((function(e){return e.user})),o=Object(l.b)(),u=ft(),m=Object(a.useState)(n.name),s=Object(ke.a)(m,2),d=s[0],A=s[1],p=Object(a.useState)(n.width),h=Object(ke.a)(p,2),f=h[0],v=h[1],E=Object(a.useState)(n.height),b=Object(ke.a)(E,2),w=b[0],O=b[1],C=Object(a.useState)(i),j=Object(ke.a)(C,2),y=j[0],W=j[1];return r.a.createElement("div",{className:u.form},r.a.createElement($e.a,{label:"Name",variant:"outlined",defaultValue:d,onChange:function(e){return A(e.target.value)}}),r.a.createElement($e.a,{label:"Width",type:"number",variant:"outlined",defaultValue:f,onChange:function(e){return v(Number.parseInt(e.target.value,10))}}),r.a.createElement($e.a,{label:"Height",type:"number",variant:"outlined",defaultValue:w,onChange:function(e){return O(Number.parseInt(e.target.value,10))}}),r.a.createElement(_e.a,{variant:"outlined"},r.a.createElement(et.a,{id:"select-tileset-label"},"Tile Set"),r.a.createElement(tt.a,{labelId:"select-tileset-label",label:"Tileset",value:y,variant:"outlined",onChange:function(e){return function(e){e.target.value,W(e.target.value)}(e)}},Object.keys(Z).map((function(e){return r.a.createElement(nt.a,{key:e,value:e},e)})))),r.a.createElement(Ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){return function(e){e.preventDefault(),o(x(Object(g.a)({},n,{name:d,width:f,height:w,tileSet:y}))),t&&t()}(e)}},"Apply Changes"),r.a.createElement(Ye.a,{type:"submit",variant:"outlined",onClick:function(e){return function(e){e.preventDefault();var n={tileSet:y,name:"New Map",width:f,height:w,tileMap:new Array(f*w).fill(-1),user:c};o(M(n)),A("New Map"),t&&t()}(e)}},"Create New"))},Et=Object(W.a)((function(){return Object(k.a)({window:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transformOrigin:"center"}})}));var bt=function(){var e=Object(a.useState)(!1),t=Object(ke.a)(e,2),n=t[0],i=t[1],c=Et();return r.a.createElement("div",null,r.a.createElement($.a,{onClick:function(){return i(!0)}},r.a.createElement(ht.a,null)),r.a.createElement(Be.a,{open:n,onClose:function(){return i(!1)}},r.a.createElement("div",{className:c.window},r.a.createElement(vt,{handleSubmit:function(){return i(!1)}}))))},wt=n(62),Ot=n.n(wt);var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data||e;case"LOGOUT":return b;default:return e}};var jt=function(){var e=Object(l.b)(),t=function(t){var n;t.error||e((n={name:t.profileObj.name,token:t.accessToken,profile:t.googleId},function(e){O(n.token).then((function(t){return e({type:"LOGIN",data:Object.assign(t,n)})})).catch((function(t){e(Oe("Error while logging in.","error"))}))}))};return r.a.createElement(Ot.a,{clientId:"566902547666-7bdampp3nip1c2pmp3bh7jp1bocpfg38.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin",isSignedIn:!0})};var Mt=function(){var e=Object(l.b)();return r.a.createElement(wt.GoogleLogout,{clientId:"566902547666-7bdampp3nip1c2pmp3bh7jp1bocpfg38.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){e({type:"LOGOUT"})}})},xt=Object(W.a)((function(e){return Object(k.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1,"&:hover":{cursor:"pointer"}},content:{margin:"auto",marginTop:"1em"},toolbarMargin:e.mixins.toolbar})}));var yt=function(e){var t=e.children,n=Object(l.c)((function(e){return e.canvas.present.name})),a=Object(l.c)((function(e){return e.user})),i=Object(u.f)(),c=xt();return r.a.createElement("div",{className:c.root},r.a.createElement(st.a,{color:"default",position:"absolute",className:c.appBar},r.a.createElement(dt.a,null,r.a.createElement(mt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(mt.a,{item:!0,xs:3},r.a.createElement(Pe.a,{variant:"h6",className:c.title,onClick:function(){return i.push("/")}},"Grid Editor")),r.a.createElement(mt.a,{item:!0},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/login"}),r.a.createElement(u.a,{exact:!0,path:"/maps"},r.a.createElement($.a,{onClick:function(){return i.push("/")}},r.a.createElement(gt.a,null))),r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(mt.a,{container:!0,alignItems:"center"},r.a.createElement(mt.a,{item:!0},r.a.createElement(bt,null)),r.a.createElement(mt.a,{item:!0},r.a.createElement(Pe.a,{variant:"h6",display:"inline",align:"justify"},n)))))),r.a.createElement(mt.a,{item:!0,xs:3,style:{textAlign:"right"}},!a.token&&r.a.createElement(jt,null),a.token&&r.a.createElement(Mt,null))))),r.a.createElement("div",{className:c.content},r.a.createElement("div",{className:c.toolbarMargin}),t))},Wt=n(206),kt=n(204);var Bt=function(){var e=Object(l.c)((function(e){return e.notification})),t=Object(l.b)();return e.message?r.a.createElement(Wt.a,{open:!0,onClose:function(){t({type:"RESET_NOTIFICATION"})},autoHideDuration:6e3,message:e.message,anchorOrigin:{vertical:"bottom",horizontal:"left"}},e.severity&&r.a.createElement(kt.a,{severity:e.severity},e.message)):null};var Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_THEME":return t.data;default:return e}};var It=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.theme})),n=Object(m.a)("(prefers-color-scheme: dark)")?"dark":"light";t!==n&&e(function(e){return{type:"CHANGE_THEME",data:e}}(n));var r=Object(s.a)({palette:{type:t}});return a.createElement(d.a,{theme:r},a.createElement(A.a,null),a.createElement(o.a,null,a.createElement(yt,null,a.createElement(u.c,null,a.createElement(u.a,{exact:!0,path:"/login"},a.createElement(jt,null)),a.createElement(u.a,{exact:!0,path:"/"},a.createElement(He,null,a.createElement(q,null))),a.createElement(u.a,{path:"/maps"},a.createElement(ut,null)))),a.createElement(Bt,null)))},Nt=n(41),St=n(104),Tt=n(105);var Ht=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Harbour",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_TILESET":return n.data.tileSet||t;case"LOAD_MAP":case"UPDATE_MAP":return n.data,(null===(e=n.data)||void 0===e?void 0:e.tileMap)?n.data.tileMap.tileSet:t;default:return t}},Pt=Object(Nt.combineReducers)({user:Ct,tileSet:Ht,canvas:y,tools:ce,maps:je,mapsFilter:it,notification:Ce,theme:Dt}),Rt=Object(Nt.createStore)(Pt,Object(St.composeWithDevTools)(Object(Nt.applyMiddleware)(Tt.a)));Rt.getState();var Lt=Rt;c.a.render(a.createElement(l.a,{store:Lt},a.createElement(It,null)),document.getElementById("root"))},90:function(e,t){e.exports="data:image/png;base64,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"},91:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACd0lEQVR42u1a2Y6EMAzj/3969mlH2lHbOLaTdmGQkPagEFzHubiu63qtzuojen7DGV/0aAC+DGg8VQDJtZxhyLWRYaO1nQDaGaBS+3edyoAyEVw9hKXlvwOgYudnALAMTK3LIov6N2PM6BkzlmTvmQZg9JKM8DgY8AnGChzErawa0AEAygRqnSoupzMgdImsC5ysARQAqrrelgFuDRjdIxIshwbYXcDBgCgVbmVANr1lqR3tble1OWRAZX6PZpJq9ogWbVMAUDSrGMBmdeUAOKtEZxXY5gJuABQGOER4CcCudtVWAHa0sZwgbwfghC6S7AKndG27Gi/Hd4XVxmwaAGb3KxiC9BvRtngZAFFRFP2uJFJIvUJsoJZ2Ii+fASAzL0ASKICtXKyuEkm0aMowJLCdz8GVmsANALppg79zWdpJDBD/70mD3cORtnNEi2yJnDE+cqeZ324DwMmAKM5vB2AWPtA4jLStkXKZHYFRXWgnAO4BKRuSU3a4XEDRgKjjO/tZmSq/r3WJoKIBaMsbcSOk8/RxrS8MshrAAIACEoKFagD7UgyDlMlTGhAXAEh4y9w/01KL6B8USJoLqBMfdvDB6MEQACcDZrlBR/c4sntqm1MDGIo7gBDZ63GBzBjcXU2imze0pyIKuAFAtQIVvj/XdoXBrn4CCox1MuQaWihfqkrVYHbXs3lAppqs6D4Fa+tbWFEcR+K6UnAtAYw0APEpJg/Ifv7mdNWyz+UFIyTKix1qPIFRR+CZ9Lcyo6Q1gH35lctsH7WHiULjJNjVjk92rePBwd2PKIQ9A4BFnL4/AI93gShMPAKARVr6LAaMvqP7AnDj4weKUYv+/6aLvgAAAABJRU5ErkJggg=="},92:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABYCAYAAABF7PEoAAAFZ0lEQVR42u1bS24VMRCco3IENqxYcgLEBVAOkFuwgUuwZYkIOwRoInVU6Vf9c9uT90kkKzPvvZlxV5fL7W7P9u3rl3+X1u7v3p60zG9Y2y7d8G7bbtn4iwFglfFDALDxdqnGpwAQg/H/71/fpwHRFbFDABCDH/78fGxyvv/Hpq+Vz/dr9vOPn+6e2tGGDgOABgoAfx8+PzX8HBu7DgEQEM4WAPHwfvzj/v1j28/lWM41WPr7D+/euAAz8DJtv++MtnmUF+9pqlcao/0MALLPHwYAx/X+QO3Z7Dk+bAYAcq8qAEJ5CoCoMLvBCOoWAxgLRj2PgHstBQB63hvjouZVJngsGPX8VA3wPNgZfxkmjHq+a/jeh0cAGKXwHD2PnR7RBN2JDACe5zPTXMiAyHMzlNibFUY9z4xk5yEAFU+i50eYILTLMCDjecuoyjAZ0oBRFmgd2JvcRwNd8XwLAPFExvN6NpDrRuMCNEh/X/F8huqpQGg1A5gGWL8b8fwQAHpMdmcD7GhGA7SnR8b86G9pKGytAFdpwGzPlwEQT1hMsDw/SwNmeX7aalAz4SgNOGrMhxoQxe2dc60BmWguS/lKSzOgs17H5mWCvOsyecduf540QFdZdLTW8TxbA5wNACsZoD3P6MjW8AhANASyeQFLhJdoAJvvrfHIpsEKAzoivEwDKtlfPRVWGTBlFmCe72iAvl9WkS0AMsveyvnSWaCa90ewRoZAtZ0MgYoGsDqAN8/PqP29eByAAoLVILZWYLF+h2GHxgGeBuxGC3r7sa4SowawOd9r1nR12DQYdRCNR88LGJEGjExjCMDyaTCrAeJ5+a+PRzXgxQGoMEA0AAWlqwFnwQBPA8RoOUYwpIMdDWDDq6IBnRkgxQAxFh+GTOhqACvIVhiwPA7QhiMTdJSFv4mYxTJPlczS6HmKAYg80l1rAH6OQ8ainAfAKoNDAJgXdcfRcGQBA8Ybr2cJAHZaOoje1571zrUojU6DK5vWqE1XV6IVGFKcVWcYoDov0GEAqzvgebR/wWUAW6Ghp3FKxM80aCs1wCq8WBs8UgAw7zGjmdgxfVipAV7lqSWCVkECac+CIz0bXJwG6A/0OYLC4oBu4rTjUd3Y771ALRUJWhEgLo2zIMj1VmWJ5Ru86rG+vxht5Svk/s8A0J4Wr+KPLBbo1aBnOIImnpdO6+9F1NCTbM8Ca5oJ7PklBjCBxGEQZWjw4Zr6mlEs3+B5PAJBWIXPl/rEMwZkNUCHupXdn+J5HALibWEB/tfHFV1hGoDPR3vSDGCzg7fcteivZ4ro+6r3PQawkH2zPK/LWXoYWENAgxDlE6Lvq8ZrFrD7Y0yTngWsOKGbT6jmG0amWbZOecaAjAZ48f7q8vqMOIPlK1JvjLDECN4gyidYHfO+q2aVsgzQq9aUBlh78jDctY6tzlmfj6TTIiC8fMVjKJy5saUD1vIXmZBlQNd4CwQrX1HWACsgivIJRxrPQPD6n35tziszR/mESq1uVuaXRaJWHDMcB3g3xeNqOX02CFY+M10XiOKA6Pujva8B8PIVJwCwnR/WO3o4njtxQAYAK7s08tyTfEDnBcUjAIhSbG0Aoj0/Vw/AzTOAzdF4kywAlULm1TIgC8KrBrxqwJkxwIsDrh6AaNt6RQRZVYi9F4hprsiYWQDgNjlc5m+s4xUNsPbqWO8FYjFT0tMrGGBtyzeLo9bOr+4QyNbq2EsbWQDYdeldYt4m5iMBGNkr7O0GawOQTTrOZMDMIdAGQOf4LJC6+/hWiWB6n2BkYKS0V82A/YLt2v8iEblJALC+fnMA6DFzUwCwPTY3A4ClmjcBgLcb6+oBiObpa7f/P+f5zrTmlNaIAAAAAElFTkSuQmCC"}},[[114,1,2]]]);
//# sourceMappingURL=main.059ad09e.chunk.js.map