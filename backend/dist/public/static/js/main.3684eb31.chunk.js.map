{"version":3,"sources":["9445.png","types/TileArray.tsx","reducers/tileArrayReducer.tsx","components/Grid.tsx","components/Tile.tsx","components/Canvas.tsx","reducers/brushReducer.tsx","components/Tools.tsx","components/Circle.tsx","components/Palette.tsx","components/ToolBar.tsx","App.tsx","store.tsx","index.tsx"],"names":["module","exports","TileArray","tiles","width","height","empty","this","initializeState","history","Array","fill","current","paint","state","index","tile","newArray","map","oldTile","i","slice","tileArrayReducer","action","type","data","length","Grid","children","columns","rows","tileHeight","tileWidth","scale","classes","makeStyles","theme","createStyles","gridContainer","display","gridTemplateColumns","gridTemplateRows","transformOrigin","transform","cursor","useStyles","className","React","child","Tile","image","color","posX","posY","style","backgroundImage","backgroundColor","backgroundPosition","getColor","tileValue","Math","floor","console","log","Canvas","dispatch","useDispatch","tileArray","useSelector","brush","tools","paintTile","t","key","onMouseDown","onMouseEnter","event","nativeEvent","which","mapping","initialState","setTile","setBrush","BrushReducer","Tools","Button","onClick","circle","alignItems","justifyContent","background","borderRadius","content","boxShadow","Circle","window","position","top","left","Palette","setOpen","open","Modal","onClose","root","appBar","zIndex","drawer","flexShrink","title","flexGrow","tool","marginRight","margin","toolbarMargin","mixins","toolbar","ToolBar","useState","AppBar","Toolbar","Typography","variant","x","y","coordinate","App","reducer","combineReducers","store","createStore","getState","render","ReactDOM","document","getElementById","subscribe"],"mappings":"4viBAAAA,EAAOC,QAAU,IAA0B,kC,+ICA9BC,EAMT,WAAYC,EAAsBC,EAAgBC,GAAkB,yBALpEC,MAAgB,EAKmD,KAJnEF,WAImE,OAHnEC,YAGmE,OAFnEF,WAEmE,EAC/DI,KAAKJ,MAAQA,EACbI,KAAKH,MAAQA,GAAgB,GAC7BG,KAAKF,OAASA,GAAkB,ICMlCG,EAAkB,WAEtB,MAAO,CACLC,QAAS,CAFU,IAAIP,EAAU,IAAIQ,MAAM,KAAOC,MAAM,KAGxDC,QAAS,IAmBb,SAASC,EAAMC,EAAuBC,EAAeC,GACjD,IAAMC,EAAWH,EAAML,QAAQK,EAAMF,SAAST,MAAMe,KAAI,SAACC,EAASC,GAAV,OAAgBA,IAAML,EAAQI,EAAUH,KAGhG,MAAO,CAAEP,QAFI,sBAAQK,EAAML,QAAQY,MAAM,EAAGP,EAAMF,QAAU,IAA/C,CAAmD,IAAIV,EAAUe,KAE5DL,QADFE,EAAMF,QAAU,GAuBrBU,MAzCU,WAAyE,IAAxER,EAAuE,uDAA/CN,IAAmBe,EAA4B,uCAC7F,OAAOA,EAAOC,MACZ,IAAK,WACH,OAAOX,EAAMC,EAAOS,EAAOE,KAAKV,MAAOQ,EAAOE,KAAKT,MACrD,IAAK,OACH,OAAsB,IAAlBF,EAAMF,QAAsBE,EACzB,eAAKA,EAAZ,CAAmBF,QAASE,EAAMF,QAAU,IAC9C,IAAK,OACH,OAAIE,EAAMF,UAAYE,EAAML,QAAQiB,OAAS,EAAUZ,EAChD,eAAKA,EAAZ,CAAmBF,QAASE,EAAMF,QAAU,IAC9C,QACA,OAAOE,I,gBCYEa,MAlCf,YAAiF,IAAjEC,EAAgE,EAAhEA,SAAUC,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,KAAMC,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,MAoBtDC,EAjBNC,aAAW,SAACC,GAAD,OACPC,YAAa,CACTC,cAAe,CACXC,QAAS,cACTC,oBAAoB,UAAD,OAAYX,EAAZ,aAAwBG,EAAYC,EAApC,mBACnBQ,iBAAiB,UAAD,OAAYX,EAAZ,aAAqBC,EAAaE,EAAlC,oBAEpBL,SAAU,CACNc,gBAAiB,WACjBC,UAAU,SAAD,OAAWV,EAAX,KACT,UAAW,CACPW,OAAQ,gBAMRC,GAOhB,OACI,uBAAKC,UAAWZ,EAAQI,eALnBV,EACEmB,WAAe7B,IAAIU,GAAU,SAACoB,GAAD,OAAW,uBAAKF,UAAWZ,EAAQN,UAAWoB,MAD5D,O,yBCXfC,MAff,YAAoD,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,KAE5BC,EAAQ,CACZC,gBAAiBL,GAAK,cAAWA,EAAX,KACtBM,gBAAgB,GAAD,OAAKL,GACpBM,mBAAoBL,GAAQC,GAAR,WAAoBD,EAApB,eAA+BC,EAA/B,MACpBjD,MAAO,OACPC,OAAQ,QAGV,OACE,uBAAKiD,MAAOA,KC8BhB,SAASI,EAAS3C,EAAec,EAAiBC,GAChD,IAAM6B,EAAa5C,EAAQc,EAAW+B,KAAKC,MAAM9C,EAAQe,GAEzD,OADAgC,QAAQC,IAAI,QAAShD,EAAO,YAAa4C,GAClCA,EAAY,IAAM,EAAI,OAAS,QAGzBK,MAxCf,YAAkE,IAAhD5D,EAA+C,EAA/CA,MAAOC,EAAwC,EAAxCA,OAAQ0B,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,UACnCiC,EAAWC,cACXC,EAAYC,aAAY,SAACtD,GAAD,OAAsBA,EAAMqD,aACpDE,EAAQD,aAAY,SAACtD,GAAD,OAAsBA,EAAMwD,MAAMD,SAE5D,SAASxD,EAAME,GACbkD,EHuBC,SAAmBlD,EAAeC,GACvC,MAAO,CACLQ,KAAM,WACNC,KAAM,CAAEV,QAAOC,SG1BJuD,CAAUxD,EAAOsD,IAC1BP,QAAQC,IAAI,WAAYM,EAAO,KAAMtD,GAoBvC,OACI,gBAAC,EAAD,CAAMc,QAASzB,GAAgB,GAAI0B,KAAMzB,GAAkB,GAAI0B,WAAYA,GAA0B,GAAIC,UAAWA,GAAwB,GAAIC,MAAO,GAjBhJkC,EAAU1D,QAAQ0D,EAAUvD,SAAST,MAAMe,KAAI,SAACsD,EAAWpD,GAChE,OACE,uBACEqD,IAAKrD,EAELsD,YAAa,kBAAM7D,EAAMO,IACzBuD,aAAc,SAACC,GACe,IAA5BA,EAAMC,YAAYC,OAAejE,EAAMO,KAGxCoD,GAAK,GAAK,gBAAC,EAAD,CAAMtB,MAAOA,IAAOE,KAAM2B,EAAQP,GAAR,EAAiBnB,KAAM0B,EAAQP,GAAR,KACpD,IAAPA,GAAY,gBAAC,EAAD,CAAMrB,MAAOO,EAAStC,EAAGhB,EAAOC,W,QC3BrD2E,EAA2B,CAC7BX,MAAO,GAYX,SAASY,EAAQnE,EAAmBuD,GAEhC,OADc,eAAQvD,EAAR,CAAeuD,UAI1B,SAASa,EAASb,GACrB,MAAO,CACH7C,KAAM,YACNC,KAAM,CAAE4C,UAIDc,MArBf,WAA0F,IAApErE,EAAmE,uDAA/CkE,EAAczD,EAAiC,uCACrF,OAAOA,EAAOC,MACZ,IAAK,YACH,OAAOyD,EAAQnE,EAAOS,EAAOE,KAAK4C,OACpC,QACE,OAAOvD,I,gCCKAsE,MAnBf,WACI,IAAMnB,EAAWC,cAEjB,OACI,6BACI,kBAACmB,EAAA,EAAD,CAAQC,QAAS,kBAAMrB,EAASiB,GAAU,MAA1C,UAGA,kBAACG,EAAA,EAAD,CAAQC,QAAS,kBAAMrB,ELuC1B,CACLzC,KAAM,WKxCE,QAGA,kBAAC6D,EAAA,EAAD,CAAQC,QAAS,kBAAMrB,EL0C1B,CACLzC,KAAM,WK3CE,UCdNqB,EAAYV,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkD,OAAQ,CACJ5C,UAAW,aACXJ,QAAS,OACTiD,WAAY,SACZC,eAAgB,SAChBrF,MAAO,OACPC,OAAQ,OACRqF,WAAY,QACZC,aAAc,OAElBC,QAAS,CACLC,UAAW,yCAqBRC,MAZf,YAAoC,IAAnBlE,EAAkB,EAAlBA,SACPM,EAAUW,IAEhB,OACI,uBAAKC,UAAWZ,EAAQqD,QACpB,uBAAKzC,UAAWZ,EAAQ0D,SACnBhE,K,QC1BXiB,EAAYV,aAAW,SAACC,GAAD,OACzBC,YAAa,CACT0D,OAAQ,CACJC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNvD,UAAU,wBACVD,gBAAiB,eA2BdyD,MAhBf,YAAsD,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,KAAMzE,EAAmB,EAAnBA,SACxBM,EAAUW,IAEhB,OACI,uBAAKyC,QAAS,kBAAMc,GAAQ,KACxB,gBAACE,EAAA,EAAD,CAAOD,KAAMA,EAAME,QAAS,kBAAMH,GAAQ,KACtC,uBAAKtD,UAAWZ,EAAQ6D,QACpB,gBAAC,EAAD,CAAMlE,QAAS,GAAIC,KAAM,GAAIC,WAAY,GAAIC,UAAW,GAAIC,MAAO,GAC9DL,OCjBnBiB,EAAYV,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXmE,KAAM,CACJjE,QAAS,QAEXkE,OAAQ,CACNC,OAAQtE,EAAMsE,OAAOC,OAAS,GAEhCA,OAAQ,CAENC,WAAY,GAEdC,MAAO,CACLC,SAAU,GAEZC,KAAM,CACJC,YAAa,OAEfpB,QAAS,CACPqB,OAAQ,QAEVC,cAAe9E,EAAM+E,OAAOC,aAoEjBC,MAnDf,YAAuC,IAApBzF,EAAmB,EAAnBA,SACTqC,EAAWC,cACXG,EAAQD,aAAY,SAACtD,GAAD,OAAsBA,EAAMwD,MAAMD,SAC5DP,QAAQC,IAAI,QAASM,GACrB,IAAMnC,EAAUW,IAJkB,EAMVyE,oBAAS,GANC,mBAM3BjB,EAN2B,KAMrBD,EANqB,KAgBlC,OACI,yBAAKtD,UAAWZ,EAAQsE,MACpB,kBAACe,EAAA,EAAD,CAAQvB,SAAS,WAAWlD,UAAWZ,EAAQuE,QAC/C,kBAACe,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWZ,EAAQ2E,OAA5C,eAGA,yBAAK/D,UAAWZ,EAAQ2E,OACtB,kBAAC,EAAD,OAGF,yBAAKvB,QAAS,kBAAMc,GAAQ,KAC1B,kBAAC,EAAD,KACI,kBAAC,EAAD,CAAMvE,QAAS,EAAGC,KAAM,EAAGC,WAAY,GAAIC,UAAW,GAAIC,MAAO,KAC9DoC,GAAS,GAAK,kBAAC,EAAD,CAAMnB,MAAOA,IAAOE,KAAM2B,EAAQV,GAAOsD,EAAGtE,KAAM0B,EAAQV,GAAOuD,SAO5F,yBAAK9E,UAAWZ,EAAQ0D,SACpB,yBAAK9C,UAAWZ,EAAQgF,gBACxB,yBAAKpE,UAAWZ,EAAQ0D,SACrBhE,GAGH,kBAAC,EAAD,CAASwE,QAASA,EAASC,KAAMA,GAlClCtB,EAAQ7D,KAAI,SAAC2G,EAAwB9G,GAAzB,OACb,yBAAK0D,IAAK1D,EAAOuE,QAAS,kBAAMrB,EAASiB,EAASnE,MAC9C,kBAAC,EAAD,CAAMmC,MAAOA,IAAOE,KAAMyE,EAAWF,EAAGtE,KAAMwE,EAAWD,YCjD5DE,MAVf,WACE,OACE,2BACE,gBAAC,EAAD,KACE,gBAAC,EAAD,CAAQ1H,MAAS,GAAIC,OAAU,GAAI0B,WAAc,GAAIC,UAAa,Q,QCCpE+F,EAAUC,YAAgB,CAC5B7D,UAAW7C,EACXgD,MAAOa,IAGL8C,EAAQC,YAAYH,GAC1BjE,QAAQC,IAAI,QAASkE,EAAME,YAEZF,QCTTG,EAAS,kBAAMC,IAASD,OAC1B,gBAAC,IAAD,CAAUH,MAAOA,GACb,gBAAC,EAAD,OAEJK,SAASC,eAAe,UAE5BH,IACAH,EAAMO,UAAUJ,K","file":"static/js/main.3684eb31.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/9445.99405a1b.png\";","export class TileArray {\r\n    empty: number = 0;\r\n    width: number;\r\n    height: number;\r\n    tiles: Array<number>;\r\n\r\n    constructor(tiles: Array<number>, width?: number, height?: number) {\r\n        this.tiles = tiles;\r\n        this.width = width ? width : 16;\r\n        this.height = height ? height : 16;\r\n    }\r\n};","import { TileArray } from \"../types/TileArray\";\r\n\r\nexport interface TileArrayState {\r\n  history: TileArray[],\r\n  current: number\r\n}\r\n\r\ninterface TileArrayAction {\r\n    type: string,\r\n    data: {\r\n        index: number,\r\n        tile: number\r\n    }\r\n}\r\n\r\nconst initializeState = () => {\r\n  const initialArray = new TileArray(new Array(16*16).fill(-1));\r\n  return {\r\n    history: [initialArray],\r\n    current: 0\r\n  }\r\n}\r\n\r\nconst tileArrayReducer = (state: TileArrayState = initializeState(), action: TileArrayAction) => {\r\n    switch(action.type) {\r\n      case 'SET_TILE': \r\n        return paint(state, action.data.index, action.data.tile);\r\n      case 'UNDO': \r\n        if (state.current === 0) return state;\r\n        return { ...state, current: state.current - 1 };\r\n      case 'REDO':\r\n        if (state.current === state.history.length - 1) return state;\r\n        return { ...state, current: state.current + 1 };\r\n      default:\r\n      return state;\r\n    }\r\n  }\r\n\r\nfunction paint(state: TileArrayState, index: number, tile: number): TileArrayState {\r\n    const newArray = state.history[state.current].tiles.map((oldTile, i) => i !== index ? oldTile : tile);\r\n    const history = [ ...state.history.slice(0, state.current + 1), new TileArray(newArray) ];\r\n    const current = state.current + 1;\r\n    return { history, current };\r\n}\r\n\r\nexport function paintTile(index: number, tile: number) {\r\n  return {\r\n    type: 'SET_TILE',\r\n    data: { index, tile }\r\n  }\r\n}\r\n\r\nexport function undo() {\r\n  return {\r\n    type: 'UNDO'\r\n  }\r\n}\r\n\r\nexport function redo() {\r\n  return {\r\n    type: 'REDO'\r\n  }\r\n}\r\n\r\nexport default tileArrayReducer;","import * as React from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\n\r\nexport interface Props {\r\n    rows: number,\r\n    columns: number,\r\n    tileHeight: number,\r\n    tileWidth: number,\r\n    scale: number,\r\n    children: React.ReactNode\r\n}\r\n\r\nfunction Grid({ children, columns, rows, tileHeight, tileWidth, scale }: Props) {\r\n\r\n    const useStyles =\r\n    makeStyles((theme: Theme) =>\r\n        createStyles({\r\n            gridContainer: {\r\n                display: 'inline-grid',\r\n                gridTemplateColumns: `repeat(${columns}, ${tileWidth * scale}px [col-start])`,\r\n                gridTemplateRows: `repeat(${rows}, ${tileHeight * scale}px [row-start])`,\r\n            },\r\n            children: {\r\n                transformOrigin: 'top left',\r\n                transform: `scale(${scale})`,\r\n                \"&:hover\": {\r\n                    cursor: 'pointer'\r\n                },\r\n            }\r\n        })\r\n    )\r\n\r\n    const classes = useStyles();\r\n\r\n    function styledChildren(): any {\r\n        if (!children) return null;\r\n        return React.Children.map(children, (child) => <div className={classes.children}>{child}</div>);\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.gridContainer}>\r\n            {styledChildren()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Grid;","import * as React from 'react';\r\n\r\nexport interface Props {\r\n  image?: string;\r\n  color?: string;\r\n  posX?: number;\r\n  posY?: number;\r\n}\r\n\r\nfunction Tile({ image, color, posX, posY }: Props) {\r\n\r\n  const style = {\r\n    backgroundImage: image && `url(${image})`,\r\n    backgroundColor: `${color}`,\r\n    backgroundPosition: posX && posY && `-${posX}px -${posY}px`,\r\n    width: '16px',\r\n    height: '16px'\r\n  }\r\n\r\n  return (\r\n    <div style={style} />\r\n  );\r\n}\r\n\r\nexport default Tile;\r\n","import * as React from 'react';\r\nimport { paintTile } from '../reducers/tileArrayReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Grid from './Grid';\r\nimport image from '../9445.png';\r\nimport mapping from '../9445.json';\r\nimport Tile from './Tile';\r\nimport { RootState } from '../store';\r\n\r\ninterface Props {\r\n  width: number,\r\n  height: number,\r\n  tileHeight?: number,\r\n  tileWidth?: number,\r\n}\r\n\r\nfunction Canvas({ width, height, tileHeight, tileWidth }: Props) {\r\n    const dispatch = useDispatch();\r\n    const tileArray = useSelector((state: RootState) => state.tileArray);\r\n    const brush = useSelector((state: RootState) => state.tools.brush);\r\n\r\n    function paint(index: number) {\r\n      dispatch(paintTile(index, brush));\r\n      console.log('painting', brush, 'on', index);\r\n    }\r\n\r\n    function parseTileArray() {\r\n        return tileArray.history[tileArray.current].tiles.map((t: number, i: number) => {\r\n          return (\r\n            <div \r\n              key={i} \r\n              //onClick={() => paint(i)}\r\n              onMouseDown={() => paint(i)}\r\n              onMouseEnter={(event) =>  { \r\n                event.nativeEvent.which === 1 && paint(i);\r\n              }} \r\n            >\r\n              {t >= 0 && <Tile image={image} posX={mapping[t]['x']} posY={mapping[t]['y']} />}\r\n              {t === -1 && <Tile color={getColor(i, width, height)}/>}\r\n            </div>\r\n          )\r\n        });\r\n      }\r\n    return (\r\n        <Grid columns={width ? width : 16} rows={height ? height : 16} tileHeight={tileHeight ? tileHeight : 16} tileWidth={tileWidth ? tileWidth : 16} scale={2} >\r\n            {parseTileArray()}\r\n        </Grid>\r\n    );\r\n}\r\n\r\nfunction getColor(index: number, columns: number, rows: number): string {\r\n  const tileValue = (index % columns) + Math.floor(index / rows);\r\n  console.log('index', index, 'tileValue', tileValue);\r\n  return tileValue % 2 === 0 ? 'GREY' : 'WHITE';\r\n}\r\n\r\nexport default Canvas;\r\n","export interface BrushState {\r\n    brush: number\r\n}\r\n\r\ninterface BrushAction {\r\n    type: string,\r\n    data: {\r\n        brush: number\r\n    }\r\n}\r\n\r\nconst initialState: BrushState = {\r\n    brush: 0\r\n}\r\n\r\nfunction BrushReducer(state: BrushState = initialState, action: BrushAction): BrushState {\r\n    switch(action.type) {\r\n      case 'SET_BRUSH': \r\n        return setTile(state, action.data.brush);\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n\r\nfunction setTile(state: BrushState, brush: number): BrushState {\r\n    const newState = { ...state, brush };\r\n    return newState;\r\n}\r\n\r\nexport function setBrush(brush: number): BrushAction {\r\n    return {\r\n        type: 'SET_BRUSH',\r\n        data: { brush }\r\n      }\r\n}\r\n\r\nexport default BrushReducer;","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { setBrush } from '../reducers/brushReducer';\r\nimport { useDispatch } from 'react-redux';\r\nimport { undo, redo } from '../reducers/tileArrayReducer';\r\n\r\nfunction Tools() {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={() => dispatch(setBrush(-1))}>\r\n                Eraser\r\n            </Button>\r\n            <Button onClick={() => dispatch(undo())}>\r\n                Undo\r\n            </Button>\r\n            <Button onClick={() => dispatch(redo())}>\r\n                Redo\r\n            </Button>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Tools;","import * as React from 'react';\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        circle: {\r\n            transform: 'scale(1.2)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            width: '64px',\r\n            height: '64px',\r\n            background: 'white',\r\n            borderRadius: '50%'\r\n        },\r\n        content: {\r\n            boxShadow: '0px 0px 5px 0px rgba(0,0,0,0.75)'\r\n        }\r\n    })\r\n);\r\n\r\ninterface Props {\r\n    children: any\r\n}\r\n\r\nfunction Circle({children}: Props) {\r\n    const classes = useStyles(); \r\n\r\n    return (\r\n        <div className={classes.circle}>\r\n            <div className={classes.content}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Circle;","import * as React from 'react';\r\nimport { Modal } from '@material-ui/core';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Grid from './Grid';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        window: {\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: `translate(-50%, -50%)`,\r\n            transformOrigin: 'center',\r\n        }\r\n    })\r\n);\r\n\r\nexport interface Props {\r\n    setOpen: Function,\r\n    open: boolean,\r\n    children: React.ReactNode\r\n}\r\n\r\nfunction Palette({ setOpen, open, children }: Props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div onClick={() => setOpen(false)}>\r\n            <Modal open={open} onClose={() => setOpen(false)} >\r\n                <div className={classes.window} >\r\n                    <Grid columns={24} rows={19} tileHeight={17} tileWidth={17} scale={2} >\r\n                        {children}\r\n                    </Grid>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Palette;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setBrush } from '../reducers/brushReducer';\r\nimport { AppBar, Toolbar, Typography, makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport Tools from './Tools';\r\nimport Grid from \"./Grid\";\r\nimport Tile from \"./Tile\";\r\nimport Circle from \"./Circle\";\r\nimport Palette from \"./Palette\";\r\nimport { RootState } from \"../store\";\r\n\r\nimport image from '../9445.png';\r\nimport mapping from '../9445.json';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n    },\r\n    drawer: {\r\n      //width: 300,\r\n      flexShrink: 0,\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    tool: {\r\n      marginRight: '1em'\r\n    },\r\n    content: {\r\n      margin: 'auto'\r\n    },\r\n    toolbarMargin: theme.mixins.toolbar,\r\n  })\r\n);\r\n\r\ninterface Props {\r\n    image?: string,\r\n    mapping?: any,\r\n    children: React.ReactNode\r\n}\r\n\r\nexport interface Coordinate {\r\n    x: number,\r\n    y: number,\r\n    height: number,\r\n    width: number\r\n  }\r\n\r\nfunction ToolBar({ children }: Props) {\r\n    const dispatch = useDispatch();\r\n    const brush = useSelector((state: RootState) => state.tools.brush);\r\n    console.log('brush', brush);\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    function palette(): any {\r\n        return mapping.map((coordinate: Coordinate, index: number) => \r\n              <div key={index} onClick={() => dispatch(setBrush(index))}>\r\n                  <Tile image={image} posX={coordinate.x} posY={coordinate.y} />\r\n              </div>\r\n            );\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position='absolute' className={classes.appBar}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                  Grid Editor\r\n                </Typography>\r\n                <div className={classes.title} >\r\n                  <Tools />\r\n                </div>\r\n\r\n                <div onClick={() => setOpen(true)}>\r\n                  <Circle>\r\n                      <Grid columns={1} rows={1} tileHeight={14} tileWidth={16} scale={2.5} >\r\n                        {brush >= 0 && <Tile image={image} posX={mapping[brush].x} posY={mapping[brush].y} />}\r\n                      </Grid>\r\n                  </Circle>\r\n                </div>\r\n            </Toolbar>\r\n            </AppBar>\r\n\r\n            <div className={classes.content}>\r\n                <div className={classes.toolbarMargin} />\r\n                <div className={classes.content}>\r\n                  {children}\r\n                </div>\r\n\r\n                <Palette setOpen={setOpen} open={open}>\r\n                    {palette()}\r\n                </Palette>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ToolBar;","import * as React from 'react';\r\nimport Canvas from './components/Canvas';\r\nimport ToolBar from './components/ToolBar';\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <ToolBar>\r\n        <Canvas width = {16} height = {16} tileHeight = {16} tileWidth = {16} />\r\n      </ToolBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import { createStore, combineReducers } from 'redux';\r\nimport tileArrayReducer, { TileArrayState } from './reducers/tileArrayReducer';\r\nimport BrushReducer, { BrushState } from './reducers/brushReducer';\r\n\r\nexport interface RootState {\r\n  tileArray: TileArrayState,\r\n  tools: BrushState\r\n}\r\n\r\nconst reducer = combineReducers({\r\n    tileArray: tileArrayReducer,\r\n    tools: BrushReducer\r\n  });\r\n\r\nconst store = createStore(reducer);\r\nconsole.log('store', store.getState());\r\n\r\nexport default store;","import * as React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store'\r\n\r\n\r\n\r\nconst render = () => ReactDOM.render(    \r\n    <Provider store={store} >\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n\r\nrender();\r\nstore.subscribe(render);\r\n"],"sourceRoot":""}